[tox]
envlist = py3{8,9,10,11,12,13}
passenv = LD_PRELOAD
isolated_build = True
requires = hatchling

[testenv:py38]
basepython = python3.8
[testenv:py39]
basepython = python3.9
[testenv:py310]
basepython = python3.10
[testenv:py311]
basepython = python3.11
[testenv:py312]
basepython = python3.12
[testenv:py313]
basepython = python3.13

[testenv]
setenv =
    VIRTUAL_ENV = {envdir}
allowlist_externals =
    tox
dependency_groups = dev, test
commands =
    {envpython} -m pytest {posargs}

[testenv:lint]
allowlist_externals =
    flake8
groups = lint
commands =
    flake8 */rym/